# Nodejs

## 1.命令行窗口

- 小黑屏、cmd窗口、终端、shell

- win+R -> cmd -> enter
- 常用指令
  - dir  ：列出当前目录下所有文件
  - cd 目录名：进入到指定目录	
  - md 目录名：创建一个文件夹
  - rd 目录名：删除一个文件夹
- 目录
  - .  当前目录
  - ..  上一级目录
- 环境变量（windows系统中变量）
  - path
  - 当我们在命令行窗口打开一个文件，或调用一个程序时，系统会首先在当前目录下寻找文件程序；如果找到了则直接打开，如果没有则会依次到环境变量path的路径中寻找，直到找到为止；若没有找到则报错
  - 所以我们可以将一些经常需要访问的程序和文件的路径添加到path中，这样就可以在任意位置访问这些文件



## 2.进程和线程

- 进程
  - 进程负责为程序的运行提供必备的环境
  - 进程相当于工厂中的车间
- 线程
  - 线程时计算机中的最小的计算单位，线程负责执行进程中的程序
  - 线程相当于工厂中的工人
- 单线程
  - js时单线程
- 多线程
  - 主流java都是多线程



## 3.node.js

- 它是一个能够在服务器端运行JavaScript的开放源代码、跨平台JavaScript运行环境
- Node
  - 是对ES标准一个实现，Node也是一个JS引擎
  - 通过Node可以使js代码在服务器端执行
  - Node仅仅对ES标准进行了实现，所以在Node中不包含 DOM 和 BOM
  - Node 中可以使用所有的内建对象
    - String	Number 	Boolean	Math	Date	RegExp	Function	Object	Array
    - 而 BOM 和 DOM 都不能使用
    - 但是可以使用 console 也可以使用定时器（setTimeout() setInterval())
  - Node 可以在后台来编写服务器
    - Node 编写服务器都是单线程的服务器
  - 传统的服务器都是多线程的
    - 每进来一个请求，就创建一个线程取处理请求
  - Node 的服务器单线程的
    - Node 处理请求时是单线程，但是在后台有一个 I/O 线程池



## 4.commonjs规范（模块化简介）

- 为了弥补当前JavaScript没有标准的缺陷
- 对模块的定义
    - 模块引用
    - 模块定义
    - 模块标识
- 在Node中，一个js文件就是一个模块
- 在Node中，每一个js文件中的js代码都是独立运行在一个函数中，而非全局作用域，所以一个模块中的变量和函数在其他模块中无法访问
- 通过require()函数来引入外部的模块
    - reuqire()可以传递一个文件的路径作为参数，node将会自动根据该路径来引入外部模块
    - 这里路径，如果使用相对路径，必须使用.或..开头
    - 使用require()引入模块以后，该函数会返回一个对象，代表引入的模块
- 可以通过exports来向外部暴露变量和方法
    - 只需要将需要暴露给外部的变量或方法设置为exports的属性即可
- 使用require()引入外部模块时，使用的就是模块标识，我们可以通过模块标识来找到指定的模块
- 模块分为两大类
    - 核心模块
        - 由node引擎提供的模块
        - 核心模块的标识就是，模块的名字
    - 文件模块
        - 用户自己创建的模块
        - 文件模块的标识就是文件的路径（绝对、相对路径）
- 在node中有一个全局对象 global ，它的作用和网页中window类似
    - 在全局中创建的变量都会作为global的属性保存
    - 在全局中创建的函数都会作为global的方法保存
    - 当node在执行模块中的代码时，它会首先在代码的最顶部，添加如下代码
        - function (exports, require, module, __filename, __dirname) {
    - 在代码底部添加如下代码
        - }
    - 实际上模块中的代码都是包装在一个函数中执行的，并且在函数执行时，同时传递了5个实参
        - exports 
            - 该对象用来将变量或函数暴露到外部
        - require
            - 函数，用来引入外部的模块
        - module
            - module代表的是当前模块本身
            - exports就是module的属性
            - 既可以使用 exports 导出，也可以使用 module.exports 导出
        - __filename
            - 当前模块的完整路径 
        - __dirname
            - 当前模块所在文件夹的完整路径